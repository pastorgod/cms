# 插槽

## [插槽官方说明](https://cn.vuejs.org/guide/components/slots.html)

### 1️⃣默认插槽

举例来说，这里有一个 `<FancyButton>` 组件，可以像这样使用：

```html
<FancyButton>
    Click me! <!-- 插槽内容 -->
</FancyButton>    
```

而 `<FancyButton>` 的模板是这样的：

```html
<button class="fancy-btn">
  <slot></slot> <!-- 插槽出口 -->
</button>
```

![插槽示意图](img/slot1.png)

`<slot>` 元素是一个插槽出口 (slot outlet)，标示了父元素提供的插槽内容 (slot content) 将在哪里被渲染。

最终渲染出的 DOM 是这样：

```html
<button class="fancy-btn">Click me!</button>
```

### 2️⃣具名插槽

插槽带个name属性,(默认插槽其实name是default)

```html
<header>
  <slot name="header"></slot>
</header>
```

外部想填充插槽，需要用个`<template>`标签包裹,在标签里面用v-slot:指定插槽名，v-slot:可以简写为#

```html
<template v-slot:header>
  <template #header>
```

⚠️ **注意：**  
在子组件标签内的内容，且没有`<template>`包裹，没有被具名插槽领走的内容，都会默认塞到默认插槽里

```html
<BaseLayout>
  <template #header>
    <h1>Here might be a page title</h1>
  </template>

  <!-- 隐式的默认插槽 -->
  <p>A paragraph for the main content.</p>
  <p>And another one.</p>

  <template #footer>
    <p>Here's some contact info</p>
  </template>
</BaseLayout>
```

最终表现如:

```html
<div class="container">
  <header>
    <h1>Here might be a page title</h1>
  </header>
  <main>
    <p>A paragraph for the main content.</p>
    <p>And another one.</p>
  </main>
  <footer>
    <p>Here's some contact info</p>
  </footer>
</div>
```

### 3️⃣作用域插槽

在父节点写插槽内容的时候，由于作用域的原因，无法直接访问子组件的数据。
通过作用域插槽，父组件可以访问子组件抛出的数据。

可以像对组件传递 props 那样，向一个插槽的出口上传递 attributes：

```html
<!-- 下面:text 是v-bind:text的简写,意思 是 将参数 text 传给插槽,值为子组件内message变量的值 -->
<div>
  <slot :text="message" :count="1"></slot>
</div>
```

父组件在使用时，可以通过如下方式获取

```html
<MyComponent>
  <template #default="{ text, count }">
    <p>{{ text }} - {{ count }}</p>
  </template>
</MyComponent>
```
